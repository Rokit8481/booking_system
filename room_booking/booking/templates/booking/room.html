{% extends 'base.html' %}

{% block title %}–ö—ñ–º–Ω–∞—Ç–∞ ‚Ññ{{ room.number }}{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 500px; margin: auto; font-family: sans-serif;">
  
  <div class="mb-3 border rounded overflow-hidden">
    {% if room.images.all %}
    <div id="carouselRoom{{ room.id }}" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% for image in room.images.all %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img src="{{ image.image.url }}" class="d-block w-100" style="height: 250px; object-fit: cover;" alt="–§–æ—Ç–æ –∫—ñ–º–Ω–∞—Ç–∏">
        </div>
        {% endfor %}
      </div>
      {% if room.images.count > 1 %}
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselRoom{{ room.id }}" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselRoom{{ room.id }}" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
      {% endif %}
    </div>
    {% else %}
    <div class="d-flex align-items-center justify-content-center" style="height: 250px; background-color: #f0f0f0;">
      <span class="text-muted">–§–æ—Ç–æ –≤—ñ–¥—Å—É—Ç–Ω—î</span>
    </div>
    {% endif %}
  </div>

  <div class="d-flex justify-content-between mb-2">
    <div>
      <strong>–ö—ñ–º–Ω–∞—Ç–∞ ‚Ññ:</strong> {{ room.number }}
    </div>
    <div>
      <a href="{% url 'book_room' room.pk %}" class="btn btn-outline-success btn-sm">–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏</a>
    </div>
  </div>

  <div class="d-flex justify-content-between border p-2 rounded mb-3">
    <div><strong>{{ room.capacity }}</strong> –æ—Å.</div>
    <div>–¶—ñ–Ω–∞: <strong>{{ room.price_per_hour }}</strong> –≥—Ä–Ω/–≥–æ–¥</div>
  </div>

  <div class="mb-3 text-center">
    {% if room.is_active %}
      <span class="text-success">üü¢–î–æ—Å—Ç—É–ø–Ω–æ</span>
    {% else %}
      <span class="text-danger">üî¥–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</span>
    {% endif %}
  </div>

  <div class="border rounded p-3 bg-light">
    <h5 class="mb-2">–û–ø–∏—Å</h5>
    <p>{{ room.description|default:"–ë–µ–∑ –æ–ø–∏—Å—É" }}</p>
  </div>
</div>
{% endblock %}